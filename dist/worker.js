!function(n){var e={};function t(c){if(e[c])return e[c].exports;var a=e[c]={i:c,l:!1,exports:{}};return n[c].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,c){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:c})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(c,a,function(e){return n[e]}.bind(null,a));return c},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";var c;function a(n,e){return{kind:n,argument:e}}function r(n,e){var t=[];if(n.length-e==2){var r=n[e+1];r.kind===c.INC_DATA||r.kind===c.DEC_DATA?t.push(a(c.LOOP_SET_TO_ZERO,0)):r.kind!==c.INC_PTR&&r.kind!==c.DEC_PTR||t.push(a(c.LOOP_MOVE_PTR,r.kind===c.INC_PTR?r.argument:-r.argument))}else n.length-e==5&&n[e+1].kind===c.DEC_DATA&&n[e+3].kind===c.INC_DATA&&1===n[e+1].argument&&1===n[e+3].argument&&(n[e+2].kind===c.INC_PTR&&n[e+4].kind===c.DEC_PTR&&n[e+2].argument===n[e+4].argument?t.push(a(c.LOOP_MOVE_DATA,n[e+2].argument)):n[e+2].kind===c.DEC_PTR&&n[e+4].kind===c.INC_PTR&&n[e+2].argument===n[e+4].argument&&t.push(a(c.LOOP_MOVE_DATA,-n[e+2].argument)));return t}function _(n,e){for(var t=[],r=e;r-2>=0&&n[r-0].kind===c.LOOP_SET_TO_ZERO&&n[r-1].kind===c.INC_PTR&&1===n[r-1].argument;)r-=2;return e-r>3&&t.push(a(c.RESET_DATA_RANGE,(e-r)/2)),t}function o(n){switch(n){case c.INC_PTR:return">";case c.DEC_PTR:return"<";case c.INC_DATA:return"+";case c.DEC_DATA:return"-";case c.READ_STDIN:return",";case c.WRITE_STDOUT:return".";case c.JUMP_IF_DATA_ZERO:return"[";case c.JUMP_IF_DATA_NOT_ZERO:return"]";case c.LOOP_SET_TO_ZERO:return"s";case c.LOOP_MOVE_PTR:return"m";case c.LOOP_MOVE_DATA:return"d";case c.INVALID_OP:return"x"}return"unknown"}t.r(e),function(n){n.INVALID_OP="INVALID_OP",n.INC_PTR="INC_PTR",n.DEC_PTR="DEC_PTR",n.INC_OFFSET="INC_OFFSET",n.DEC_OFFSET="DEC_OFFSET",n.INC_DATA="INC_DATA",n.DEC_DATA="DEC_DATA",n.READ_STDIN="READ_STDIN",n.WRITE_STDOUT="WRITE_STDOUT",n.LOOP_SET_TO_ZERO="LOOP_SET_TO_ZERO",n.LOOP_MOVE_PTR="LOOP_MOVE_PTR",n.UNROLL_LOOP_MOVE_PTR_UNTIL_ZERO="UNROLL_LOOP_MOVE_PTR_UNTIL_ZERO",n.LOOP_MOVE_DATA="LOOP_MOVE_DATA",n.JUMP_IF_DATA_ZERO="JUMP_IF_DATA_ZERO",n.JUMP_IF_DATA_NOT_ZERO="JUMP_IF_DATA_NOT_ZERO",n.RESET_DATA_RANGE="RESET_DATA_RANGE",n.SET_DATA="SET_DATA",n.DATA_LOOP="DATA_LOOP",n.DATA_LOOP_ADD="DATA_LOOP_ADD",n.DATA_LOOP_SUB="DATA_LOOP_SUB",n.DATA_LOOP_END="DATA_LOOP_END"}(c||(c={}));var u,T=new TextDecoder,A=new TextEncoder,O=function(n){return Array.from(A.encode(n))};function s(){return prompt("enter value")}function D(n){self.postMessage({type:u.out,data:{value:String.fromCharCode(n)}})}!function(n){n[n.start=0]="start",n[n.end=1]="end",n[n.out=2]="out"}(u||(u={})),self[s.name]=s,self[D.name]=D,self.addEventListener("message",(function(n){var e=n.data,t=e.type,A=e.src;if(t===u.start){var i=function(n){for(var e=0,t=n.length,o=[],u=[];e<t;){var T=n[e];if("["==T)u.push(o.length),o.push(a(c.JUMP_IF_DATA_ZERO,0)),e++;else if("]"==T){u.length||console.warn("unmatched closing ']' at pc=".concat(e));var A=u.pop(),O=r(o,A);if(O.length)o=o.slice(0,A).concat(O);else{for(var s=0,D=0,i=!0,E=A+1,m=new Uint8Array(6e4);E<o.length;){var p=o[E];p.kind===c.JUMP_IF_DATA_ZERO?(i=i&&!1,D+=1):p.kind===c.JUMP_IF_DATA_NOT_ZERO&&(D-=1),0===D&&p.kind===c.INC_PTR&&(p.kind=c.INC_OFFSET,s+=p.argument),0===D&&p.kind===c.DEC_PTR&&(p.kind=c.DEC_OFFSET,s-=p.argument),0===D&&p.kind===c.INC_DATA?m[3e4+s]+=p.argument:0===D&&p.kind===c.DEC_DATA&&(m[3e4+s]-=p.argument),i=(i=(i=i&&!(p.kind===c.LOOP_MOVE_PTR))&&!(p.kind===c.LOOP_MOVE_DATA))&&!(p.kind===c.RESET_DATA_RANGE),0===D&&p.kind===c.DATA_LOOP&&0!==m[3e4+s]&&(i=!1),E+=1}if(0!==s&&o.push(a(s<0?c.DEC_PTR:c.INC_PTR,Math.abs(s))),0===s&&i){for(var P=0,l=0,g=A+1;g<o.length;){var d=o[g];d.kind===c.INC_OFFSET?l+=d.argument:d.kind===c.DEC_OFFSET&&(l-=d.argument),0===l&&(d.kind===c.INC_DATA?P+=d.argument:d.kind===c.DEC_DATA&&(P-=d.argument)),g+=1}if(1===Math.abs(P)){var f=A+1+Number(o[A+1].kind===c.DEC_DATA),h=o.length-Number(o[o.length-1].kind===c.DEC_DATA);if(f>A+1||h<o.length){for(O.push(a(c.DATA_LOOP,0));f<h;){var R=o[f];R.kind===c.INC_DATA?O.push(a(c.DATA_LOOP_ADD,R.argument)):R.kind===c.DEC_DATA?O.push(a(c.DATA_LOOP_SUB,R.argument)):O.push(R),f+=1}O.push(a(c.DATA_LOOP_END,A)),o=o.slice(0,A).concat(O)}else o[A].argument=o.length,o.push(a(c.JUMP_IF_DATA_NOT_ZERO,A))}else o[A].argument=o.length,o.push(a(c.JUMP_IF_DATA_NOT_ZERO,A))}else o[A].argument=o.length,o.push(a(c.JUMP_IF_DATA_NOT_ZERO,A))}e++}else{for(var k=e++;e<t&&n[e]===T;)e++;var I=e-k,N=c.INVALID_OP;switch(T){case">":N=c.INC_PTR;break;case"<":var C=_(o,o.length-1);if(C.length&&C[0].argument===I){o=o.slice(0,o.length-2*C[0].argument).concat(C);continue}N=c.DEC_PTR;break;case"+":var L=o.length>0?o[o.length-1]:null;if(L&&L.kind===c.LOOP_SET_TO_ZERO){L.kind=c.SET_DATA,L.argument=I;continue}N=c.INC_DATA;break;case"-":N=c.DEC_DATA;break;case",":N=c.READ_STDIN;break;case".":N=c.WRITE_STDOUT;break;default:console.warn("\"bad char '".concat(T,"' at pc=").concat(k))}o.push(a(N,I))}}for(var S=0,b=0;b<o.length;){var v=o[b];v.kind===c.JUMP_IF_DATA_ZERO?S+=1:v.kind===c.JUMP_IF_DATA_NOT_ZERO&&(S-=1),0===S&&v.kind===c.INC_PTR&&(v.kind=c.INC_OFFSET,v.argument),0===S&&v.kind===c.DEC_PTR&&(v.kind=c.DEC_OFFSET,v.argument),b+=1}return o}(function(n){for(var e=[],t=0;t<n.length;t++){var c=n[t];">"!=c&&"<"!=c&&"+"!=c&&"-"!=c&&"."!=c&&","!=c&&"["!=c&&"]"!=c||e.push(c)}return e}(A)),E={compileTime:0,runTime:0},m=performance.now();(function(n,e,t){var a=e.name,r=t.name,_=[],u=[],A=0,s=0,D=[];_.push(O("const ".concat("m"," = new Uint8Array(",3e4,");\n"))),_.push(O("let ".concat("p"," = 0;\n")));for(var i=0;i<n.length;){var E=n[i];switch(E.kind){case c.INC_PTR:_.push(O("".concat("p"," += ").concat(E.argument,";\n")));break;case c.DEC_PTR:_.push(O("".concat("p"," -= ").concat(E.argument,";\n")));break;case c.INC_OFFSET:A+=E.argument;break;case c.DEC_OFFSET:A-=E.argument;break;case c.INC_DATA:_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] += ").concat(E.argument,";\n")));break;case c.DEC_DATA:_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] -= ").concat(E.argument,";\n")));break;case c.READ_STDIN:_.push(O("for (let i = 0; i < ".concat(E.argument,"; i++) ").concat("m","[").concat("p"," + ").concat(A,"] = ").concat(a,"();\n")));break;case c.WRITE_STDOUT:E.argument<2?_.push(O("".concat(r,"(").concat("m","[").concat("p"," + ").concat(A,"]);\n"))):_.push(O("for (let i = 0; i < ".concat(E.argument,"; i++) ").concat(r,"(").concat("m","[").concat("p"," + ").concat(A,"]);\n")));break;case c.LOOP_SET_TO_ZERO:_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] = 0;\n")));break;case c.LOOP_MOVE_PTR:_.push(O("while (".concat("m","[").concat("p"," + ").concat(A,"]) {\n")+"".concat("p"," += ").concat(E.argument,";\n}\n")));break;case c.LOOP_MOVE_DATA:_.push(O("if (".concat("p"," + ").concat(A+E.argument," >= 0) {\n")+"".concat("m","[").concat("p"," + ").concat(A+E.argument,"] += ").concat("m","[").concat("p"," + ").concat(A,"];\n")+"".concat("m","[").concat("p"," + ").concat(A,"] = 0;\n")+"}\n"));break;case c.JUMP_IF_DATA_ZERO:u.push(A),_.push(O("while (".concat("m","[").concat("p"," + ").concat(A,"]) {\n")));break;case c.JUMP_IF_DATA_NOT_ZERO:_.push(O("}\n")),A=u.pop();break;case c.RESET_DATA_RANGE:for(var m=1;m<E.argument+1;m++)_.push(O("".concat("m","[").concat("p"," + ").concat(A+m,"] = ")));_.push(O("".concat(0,";\n")));break;case c.SET_DATA:_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] = ").concat(E.argument,";\n")));break;case c.DATA_LOOP:s=A,D.push(s),_.push(O("if (".concat("m","[").concat("p"," + ").concat(s,"]) {\n")));break;case c.DATA_LOOP_END:_.push(O("".concat("m","[").concat("p"," + ").concat(s,"] = 0;\n")+"}\n")),A=D.pop(),s=D[D.length-1];break;case c.DATA_LOOP_ADD:1===E.argument?_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] += ").concat("m","[").concat("p"," + ").concat(s,"];\n"))):_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] += ").concat("m","[").concat("p"," + ").concat(s,"] * ").concat(E.argument,";\n")));break;case c.DATA_LOOP_SUB:1===E.argument?_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] -= ").concat("m","[").concat("p"," + ").concat(s,"];\n"))):_.push(O("".concat("m","[").concat("p"," + ").concat(A,"] -= ").concat("m","[").concat("p"," + ").concat(s,"] * ").concat(E.argument,";\n")));break;default:console.warn("bad char ' ".concat(o(E.kind)," ' at pc=").concat(i))}i++}var p=T.decode(Uint8Array.from(_.flat())),P=new Function(p);return Promise.resolve({module:{run:function(){P()}},memory:new Uint8Array})})(i,s,D).then((function(n){var e=n.module,t=n.memory;E.compileTime=performance.now()-m,m=performance.now(),console.log("start at ".concat(m)),e.run(),console.log("memory",t);var c=performance.now();E.runTime=c-m,self.postMessage({type:u.end,data:{time:E}})})).catch((function(n){return console.log(n)}))}}))}]);